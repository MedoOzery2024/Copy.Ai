<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Copy.Ai - تحويل، استخراج وتلخيص</title>
  <link rel="stylesheet" href="style.css">
  <!-- CDN Libraries -->
  <!-- Tesseract (OCR) -->
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
  <!-- pdf.js (لتحويل صفحات PDF إلى canvas) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
  <!-- jsPDF (تحويل صور إلى PDF سريع) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <!-- pdf-lib (إعادة بناء / ضغط PDF) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
  <!-- docx (إنشاء ملفات .docx) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/docx/7.2.0/docx.umd.js"></script>
  <!-- SheetJS XLSX (إنشاء Excel) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <!-- PptxGenJS (إنشاء PowerPoint) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pptxgenjs/3.8.0/pptxgen.bundle.js"></script>
</head>
<body>
  <header>
    <div class="logo">🧠 <span>Copy.Ai</span></div>
    <div class="header-right">
      <div class="author">Developed by: <strong>محمود محمد محمود أبو الفتوح أحمد العزيري</strong></div>
      <button id="theme-toggle">🌙</button>
    </div>
  </header>

  <main id="home">
    <h1>مرحبًا بك في <span>Copy.Ai</span></h1>
    <p class="lead">أدوات استخراج، تلخيص، ترجمة، تحويل وضغط الملفات — كلّه يعمل داخل المتصفح.</p>

    <div class="sections">
      <div class="card" onclick="openSection('section-extract')">📄 استخراج النص من الصور و PDF</div>
      <div class="card" onclick="openSection('section-summary')">🧾 تلخيص النصوص</div>
      <div class="card" onclick="openSection('section-translate')">🌍 ترجمة (عرض النص المستخرج)</div>
      <div class="card" onclick="openSection('section-img2pdf')">🖼️ تحويل الصور إلى PDF</div>
      <div class="card" onclick="openSection('section-resizepdf')">📏 ضغط/تغيير حجم PDF</div>
      <div class="card" onclick="openSection('section-converttxt')">📂 تحويل النص إلى Word/Excel/PPT/TXT</div>
      <div class="card" onclick="openSection('section-resizeimg')">🎨 تغيير حجم ونوع الصور</div>
    </div>
  </main>

  <!-- ========== قسم: استخراج النص (OCR لكلٍ من الصور و PDF) ========== -->
  <section id="section-extract" class="panel">
    <h2>📄 استخراج النص من الصور وملفات PDF</h2>
    <p>ارفع صورة أو ملف PDF. سنقوم بتحويل صفحات PDF لصور ثم استخراج النص عن طريق Tesseract.</p>

    <label class="field">اختر ملف (صورة أو PDF)</label>
    <input type="file" id="extract-file" accept="image/*,.pdf" />

    <div class="controls">
      <button id="btn-extract">🔍 بدء الاستخراج</button>
      <button class="back" onclick="goHome()">⬅️ العودة للصفحة الرئيسية</button>
    </div>

    <div class="status" id="extract-status"></div>
    <pre id="extract-output" class="output"></pre>
  </section>

  <!-- ========== قسم: التلخيص ========== -->
  <section id="section-summary" class="panel">
    <h2>🧾 تلخيص النصوص</h2>
    <p>يمكنك تلخيص النص المستخرج أو لصق نص جديد.</p>
    <textarea id="summary-input" placeholder="ألصق أو اكتب النص هنا..."></textarea>
    <div class="controls">
      <label>عدد جمل الملخص:
        <select id="summary-sentences">
          <option value="1">1</option>
          <option value="2" selected>2</option>
          <option value="3">3</option>
          <option value="5">5</option>
        </select>
      </label>
      <button id="btn-summarize">✂️ تلخيص</button>
      <button class="back" onclick="goHome()">⬅️ العودة للصفحة الرئيسية</button>
    </div>
    <pre id="summary-output" class="output"></pre>
  </section>

  <!-- ========== قسم: الترجمة (عرض النص المستخرج - يمكن ربط خدمة ترجمة لاحقًا) ========== -->
  <section id="section-translate" class="panel">
    <h2>🌍 ترجمة النصوص (عرض النص المعرّف)</h2>
    <p>استخراج النص باستخدام OCR ثم يمكن ربطه بخدمة ترجمة خارجية. الآن نعرض النص المستخرج.</p>
    <label>اختر ملف صورة / PDF</label>
    <input type="file" id="translate-file" accept="image/*,.pdf" />
    <div class="controls">
      <select id="translate-target">
        <option value="en">الإنجليزية</option>
        <option value="fr">الفرنسية</option>
        <option value="es">الإسبانية</option>
        <option value="de">الألمانية</option>
      </select>
      <button id="btn-translate">استخراج (وليس ترجمة فعليّة)</button>
      <button class="back" onclick="goHome()">⬅️ العودة للصفحة الرئيسية</button>
    </div>
    <pre id="translate-output" class="output"></pre>
  </section>

  <!-- ========== قسم: صور → PDF ========== -->
  <section id="section-img2pdf" class="panel">
    <h2>🖼️ تحويل صور متعددة إلى ملف PDF</h2>
    <label>اختر صورًا (يمكن اختيار أكثر من صورة)</label>
    <input type="file" id="img2pdf-input" accept="image/*" multiple />
    <div class="controls">
      <button id="btn-img2pdf">🔁 تحويل إلى PDF</button>
      <a id="img2pdf-download" style="display:none;"></a>
      <button class="back" onclick="goHome()">⬅️ العودة للصفحة الرئيسية</button>
    </div>
    <div class="status" id="img2pdf-status"></div>
  </section>

  <!-- ========== قسم: ضغط/تغيير حجم PDF (تقريبي) ========== -->
  <section id="section-resizepdf" class="panel">
    <h2>📏 ضغط / تغيير حجم PDF (تقريبي)</h2>
    <p>نحو ضغط الصور داخل PDF وإعادة بناء PDF مضغوط. يعتمد على مدى كون PDF عبارة عن صور.</p>
    <label>اختر ملف PDF</label>
    <input type="file" id="resizepdf-input" accept=".pdf" />
    <label>جودة الصور بعد الضغط (0.1 - 1.0)</label>
    <input type="number" id="resizepdf-quality" step="0.1" min="0.1" max="1" value="0.6" />
    <div class="controls">
      <button id="btn-resizepdf">ضغط وإعادة إنشاء PDF</button>
      <a id="resizepdf-download" style="display:none;"></a>
      <button class="back" onclick="goHome()">⬅️ العودة للصفحة الرئيسية</button>
    </div>
    <div class="status" id="resizepdf-status"></div>
  </section>

  <!-- ========== قسم: تحويل النص إلى ملفات Office و TXT ========== -->
  <section id="section-converttxt" class="panel">
    <h2>📂 تحويل النص إلى Word / Excel / PowerPoint / Text</h2>
    <textarea id="convert-input" placeholder="أدخل النص أو الصق الملخص هنا..."></textarea>
    <div class="controls">
      <select id="convert-type">
        <option value="txt">Text (.txt)</option>
        <option value="docx">Word (.docx)</option>
        <option value="xlsx">Excel (.xlsx)</option>
        <option value="pptx">PowerPoint (.pptx)</option>
      </select>
      <button id="btn-convertfile">⬇️ تحويل وتحميل</button>
      <button class="back" onclick="goHome()">⬅️ العودة للصفحة الرئيسية</button>
    </div>
    <div class="status" id="convert-status"></div>
  </section>

  <!-- ========== قسم: تغيير حجم ونوع الصورة ========== -->
  <section id="section-resizeimg" class="panel">
    <h2>🎨 تغيير حجم الصور وتغيير الصيغة</h2>
    <label>اختر صورة</label>
    <input type="file" id="resizeimg-input" accept="image/*" />
    <div class="resize-fields">
      <input type="number" id="resizeimg-width" placeholder="العرض (px)" />
      <input type="number" id="resizeimg-height" placeholder="الارتفاع (px)" />
      <select id="resizeimg-format">
        <option value="jpeg">JPEG</option>
        <option value="png">PNG</option>
        <option value="webp">WEBP</option>
      </select>
    </div>
    <div class="controls">
      <button id="btn-resizeimg">تطبيق وتحميل</button>
      <a id="resizeimg-download" style="display:none;"></a>
      <button class="back" onclick="goHome()">⬅️ العودة للصفحة الرئيسية</button>
    </div>
    <canvas id="resizeimg-canvas" style="display:none;"></canvas>
    <div class="status" id="resizeimg-status"></div>
  </section>

  <footer>
    <p>© 2025 Copy.Ai — Developed by: <strong>محمود محمد محمود أبو الفتوح أحمد العزيري</strong></p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
